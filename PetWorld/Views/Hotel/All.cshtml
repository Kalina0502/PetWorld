@model PetWorld.Controllers.AllHotelRoomsQueryModel

@{
    ViewData["Title"] = "All Hotel Rooms";
}

<h2>All Hotel Rooms</h2>

<!-- Филтриращ формуляр -->
<form method="get" asp-action="All">
    <div>
        <label for="RoomType">Room Type:</label>
        <select id="RoomType" name="RoomType">
            <option value="">All</option>
            @foreach (var roomType in Model.RoomTypes)
            {
                <option value="@roomType">@roomType</option>
            }
        </select>
    </div>
    <div>
        <label for="CheckInDate">Check-in Date:</label>
        <input type="date" id="CheckInDate" name="CheckInDate" value="@Model.CheckInDate?.ToString("yyyy-MM-dd")" />
    </div>
    <div>
        <label for="CheckOutDate">Check-out Date:</label>
        <input type="date" id="CheckOutDate" name="CheckOutDate" value="@Model.CheckOutDate?.ToString("yyyy-MM-dd")" />
    </div>
    <div>
        <button type="submit">Search</button>
    </div>
</form>

<!-- Показване на хотелски стаи -->
<div>
    <h3>Hotel Rooms:</h3>
    @if (Model.HotelRooms.Any())
    {
        <ul>
            @foreach (var room in Model.HotelRooms)
            {
                <li>
                    <div>
                        <h4>Room ID: @room.Id</h4>
                        <p>Room Type ID: @room.RoomTypeId</p>
                        <p>Is Available: @(room.IsAvailable ? "Yes" : "No")</p>
                    </div>
                </li>
            }
        </ul>
    }
    else
    {
        <p>No rooms available for the selected filters.</p>
    }
</div>

<!-- Пагинация -->
<div>
    <p>
        Page @Model.CurrentPage of @Model.TotalPages
        | @if (Model.HasPreviousPage)
        {
            <a asp-action="All" asp-route-CurrentPage="@(Model.CurrentPage - 1)">Previous</a>
        }
        @if (Model.HasNextPage)
        {
            <a asp-action="All" asp-route-CurrentPage="@(Model.CurrentPage + 1)">Next</a>
        }
    </p>
</div>
